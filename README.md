# Types Cleanup 🧹

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/yourusername/types-cleanup)
[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-blue.svg)](https://www.typescriptlang.org/)
[![VS Code](https://img.shields.io/badge/VS%20Code-Compatible-green.svg)](https://code.visualstudio.com/)
[![Cursor](https://img.shields.io/badge/Cursor-Compatible-blue.svg)](https://cursor.sh/)

Automatically organize, deduplicate, and clean up TypeScript interfaces in your `Types.d.ts` file. Keep your type definitions clean and organized without manual effort!

**Perfect for AI-assisted development workflows in Cursor and VS Code!**

## ✨ Features

- 🎯 **Auto-Detection**: Only activates when `Types.d.ts` exists in your project root
- 💾 **Save Integration**: Extracts interfaces from any saved TypeScript file
- 🔄 **Smart Merging**: Combines duplicate interfaces while preserving all unique properties
- 🗂️ **Auto-Organization**: Alphabetically sorts interfaces and properties
- 🧹 **Unused Cleanup**: Automatically removes interfaces that aren't used in your codebase
- 📊 **Status Indicator**: Visual status bar icon shows current state
- ⚙️ **Configurable**: Customize behavior through VS Code settings

## 🚀 Getting Started

### Prerequisites

- VS Code 1.74.0 or higher **OR** Cursor IDE
- A TypeScript project with a `Types.d.ts` file in the project root

### Installation

#### For VS Code:

1. Clone or download this extension
2. Install dependencies: `npm install`
3. Compile TypeScript: `npm run compile`
4. Press `F5` to launch in development mode

#### For Cursor:

1. Clone or download this extension
2. Install dependencies: `npm install`
3. Compile TypeScript: `npm run compile`
4. Press `F5` to launch Extension Development Host

   **Or package and install:**

   ```bash
   npm install -g vsce
   vsce package
   # Then install the .vsix file via Extensions → Install from VSIX
   ```

### Basic Usage

1. Ensure you have a `Types.d.ts` file in your project root
2. Write interfaces in any TypeScript file:

   ```typescript
   interface User {
     id: string;
     name: string;
   }

   interface Product {
     id: string;
     title: string;
     price: number;
   }
   ```

3. Save the file (`Ctrl+S` / `Cmd+S`)
4. Watch as interfaces are automatically added to `Types.d.ts`!

## 🎯 Perfect for AI Development

This extension is especially valuable when working with AI-assisted development:

### Cursor IDE Benefits

- **AI-Generated Interfaces**: Automatically organizes interfaces created by Cursor's AI
- **Rapid Prototyping**: Handles duplicate interfaces from iterative AI suggestions
- **Code Cleanup**: Keeps your types clean as you experiment with AI assistance
- **Seamless Integration**: Works with Cursor's workspace management

### VS Code with AI Extensions

- Cleans up interfaces from GitHub Copilot suggestions
- Organizes types generated by any AI coding assistant
- Maintains consistency across AI-generated code

## 📊 Status Bar Indicator

The extension shows its status in the status bar (both VS Code and Cursor):

| Icon        | Status   | Description                                    |
| ----------- | -------- | ---------------------------------------------- |
| 🧹 (Green)  | Active   | Extension is running and monitoring files      |
| 🧹 (Yellow) | Waiting  | Extension is enabled but no `Types.d.ts` found |
| 🧹 (Red)    | Disabled | Extension is disabled                          |

Click the status bar icon to toggle the extension on/off.

## 🔧 Configuration

Access these settings through `File > Preferences > Settings` (VS Code) or `Cursor > Preferences > Settings` (Cursor) and search for "Types Cleanup":

| Setting                          | Default        | Description                                   |
| -------------------------------- | -------------- | --------------------------------------------- |
| `typesCleanup.enabled`           | `true`         | Enable/disable automatic types cleanup        |
| `typesCleanup.typesFileName`     | `"Types.d.ts"` | Name of the types file to manage              |
| `typesCleanup.cleanupDelay`      | `2000`         | Delay (ms) before cleaning unused interfaces  |
| `typesCleanup.enableAutoCleanup` | `true`         | Enable automatic cleanup of unused interfaces |

### Example Configuration

```json
{
  "typesCleanup.enabled": true,
  "typesCleanup.typesFileName": "global.d.ts",
  "typesCleanup.cleanupDelay": 5000,
  "typesCleanup.enableAutoCleanup": false
}
```

## 🎮 Commands

Access commands through the Command Palette (`Ctrl+Shift+P` / `Cmd+Shift+P`):

- **Types Cleanup: Toggle** - Enable/disable the extension
- **Types Cleanup: Cleanup Types Now** - Manually trigger cleanup

## 🔄 How It Works

### Interface Extraction

When you save a TypeScript file, the extension:

1. Scans for `interface` declarations
2. Extracts the interface name and all properties
3. Adds new interfaces to `Types.d.ts`

### Smart Merging

If duplicate interfaces are found:

```typescript
// File 1
interface User {
  id: string;
  name: string;
}

// File 2
interface User {
  email: string;
  age: number;
}

// Result in Types.d.ts
export interface User {
  age: number;
  email: string;
  id: string;
  name: string;
}
```

### Automatic Cleanup

After the configured delay, unused interfaces are removed:

- Uses VS Code's built-in search API (no external dependencies)
- Scans all TypeScript files in the workspace
- Identifies which interfaces are actually used
- Removes unused interfaces from `Types.d.ts`
- Can be disabled via settings if not needed

## 📁 Example Types.d.ts Output

```typescript
// Auto-generated types file managed by Types Cleanup 🧹
// This file is automatically updated when you save TypeScript files

export interface Product {
  category: string;
  id: string;
  price: number;
  title: string;
}

export interface User {
  age: number;
  email: string;
  id: string;
  name: string;
}
```

## 🛠️ Development

### Setup

```bash
# Clone the repository
git clone https://github.com/yourusername/types-cleanup
cd types-cleanup

# Install dependencies
npm install

# Compile TypeScript
npm run compile

# Watch for changes during development
npm run watch
```

### Testing in VS Code

1. Press `F5` to launch Extension Development Host
2. Open a TypeScript project with `Types.d.ts`
3. Create interfaces in TypeScript files and save
4. Verify the extension behavior

### Testing in Cursor

1. Press `F5` to launch Extension Development Host
2. Open a TypeScript project with `Types.d.ts`
3. Use Cursor's AI to generate interfaces or create them manually
4. Save files and verify automatic organization
5. Check the 🧹 status bar icon

### Building for Distribution

```bash
# Install vsce (VS Code Extension manager)
npm install -g vsce

# Package the extension
vsce package
```

## 🐛 Troubleshooting

### Extension Not Working?

- ✅ Ensure `Types.d.ts` exists in your workspace root
- ✅ Check the status bar icon for current state
- ✅ Verify you're saving TypeScript files (`.ts` or `.tsx`)
- ✅ Check the output panel for error messages (VS Code/Cursor)
- ✅ **Cursor users**: Ensure workspace folders are properly detected

### Interfaces Not Being Added?

- ✅ Make sure interfaces use proper TypeScript syntax
- ✅ Verify the extension is enabled (green status bar icon)
- ✅ Check that you're not editing `Types.d.ts` directly
- ✅ **AI-generated code**: Ensure the AI output includes proper `interface` declarations

### Cleanup Not Working?

- ✅ Wait for the cleanup delay (default: 2 seconds)
- ✅ Ensure interfaces aren't used in comments or strings
- ✅ Try manual cleanup: `Ctrl+Shift+P` → "Types Cleanup: Cleanup Types Now"
- ✅ **Cursor users**: Check that all workspace files are being scanned properly

## 📝 Changelog

### [1.0.0] - 2025-06-09

- Initial release
- Auto-extraction of interfaces on file save
- Smart interface merging and deduplication
- Automatic cleanup of unused interfaces
- Status bar indicator
- Configurable settings
- **Full compatibility with VS Code and Cursor IDE**
- **Optimized for AI-assisted development workflows**

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature-name`
3. Commit changes: `git commit -am 'Add feature'`
4. Push to branch: `git push origin feature-name`
5. Submit a pull request

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- Inspired by the need for automated TypeScript interface management
- Built with the VS Code Extension API for compatibility with VS Code and Cursor
- Thanks to the TypeScript and AI development communities for best practices
- Special thanks to Cursor IDE for advancing AI-assisted development

---

**Enjoy clean, organized TypeScript interfaces in VS Code and Cursor!** 🎉

If you find this extension helpful, please consider giving it a ⭐ on GitHub!
